<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %> - <%= logo %>
    </title>
    <%- include("components/header.ejs"); %>
</head>

<body>
    <%- include("components/NavBar.ejs", { logo, funding, github }); %>

    <section class="hero is-danger is-bold is-medium">
        <div class="hero-body has-text-centered">
            <div class="container">
                <h1 style="font-size: 5rem; font-weight: bold;">
                    <%= error_code %>
                </h1>
                <h2 class="subtitle">
                    <%= description %>
                </h2>
            </div>
        </div>
    </section>

    <%- include("components/Notifications.ejs") %>

        <script defer>
            const YOUTUBE_REGEX = /^https?:\/\/(?:(?:www|m)\.)?(?:youtube\.com\/watch(?:\?v=|\?.+?&v=)|youtu\.be\/)([a-z0-9_-]+)$/i;
            const YOUTUBE_ID_REP = /^https?:\/\/(?:(?:www|m)\.)?(?:youtube\.com\/watch(?:\?v=|\?.+?&v=)|youtu\.be\/)/i;
            const DANGER_CLASS = "is-danger";
            const INFO_URL = "/youtube/id/";

            const urlInput = document.getElementById("url-box");
            const searchBtn = document.getElementById("search-btn");

            async function search() {
                const url = urlInput.value;
                if (!YOUTUBE_REGEX.test(url)) {
                    notify(DANGER_CLASS, "Invalid YouTube video URL");
                    urlInput.classList.add(DANGER_CLASS);
                    return;
                }
                if (urlInput.classList.contains(DANGER_CLASS)) urlInput.classList.remove(DANGER_CLASS);
                const id = url.replace(YOUTUBE_ID_REP, "");
                location.href = INFO_URL + id;
            }
        </script>
        
    <%- include("components/Footer.ejs", { logo, funding, github }); %>
</body>

</html>
